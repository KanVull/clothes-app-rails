<div class="container">
  <h1>Your Cart</h1>

  <% if @cart.items.any? %>
    <table class="table table-hover">
      <thead class="thead-dark">
        <tr>
          <th>Product</th>
          <th>Price</th>
          <th>Quantity</th>
          <th/>
          <th>Total price</th>
          <th>Del</th>
        </tr>
      </thead>
      <tbody>
        <% @cart.items.each do |item| %>
          <tr>
            <td><%= item.product.name %></td>
            <td><%= item.product.price %></td>
            <td><%= item.quantity %></td>
            <td>
              <%= button_to "-1", cart_path(product_id: item.product_id, quantity: -1), method: :patch, class: 'btn btn-info'%>
              <%= button_to "+1", cart_path(product_id: item.product_id, quantity: 1), method: :patch, class: 'btn btn-info'%>
            </td>
            <td><%= item.product.price * item.quantity %></td>
            <td>
              <%= button_to "Remove from Cart", cart_path(product_id: item.product_id, quantity: 0), method: :patch, class: 'btn btn-outline-danger'%>
            </td>
          </tr>
        <% end %>
      </tbody>
      <tfoot>
        <tr class="table-dark text-dark">
          <td>Total amount:</td>
          <td colspan="3"></td>
          <td colspan="2"><%= @cart.total_amount %></td>
        </tr>
      </tfoot>
    </table>
    <%= button_to "Place Order", new_order_path, method: :get, class: 'btn btn-outline-success' %>
  <% else %>
    <p>Your cart is empty.</p>
  <% end %>
</div>